
@{
	ViewBag.Title = "Dash2";
}

<h2>Dash2</h2>

<div class="row">

	<div id="myRealTimeApiData">My data displayed in a fusion chart!</div>
</div>

@section scripts{

	<script src="~/Assets/FusionCharts/js/fusioncharts.js"></script>
	<script src="~/Assets/FusionCharts/js/fusioncharts.charts.js"></script>
	<script src="~/Assets/FusionCharts/js/fusioncharts.widgets.js"></script>
	<script src="~/Assets/FusionCharts/js/fusioncharts.powercharts.js"></script>
	<script src="~/Assets/FusionCharts/js/themes/fusioncharts.theme.carbon.js"></script>


	<script>


		$(document).ready(function () {
			var endpoint = 'http://ckhousefinanceapi.azurewebsites.net/api/Finance/GetAccountsByHouseForCharts?hhId=';
			var myId = "4";
			// Send an AJAX request
			$.getJSON(endpoint + myId).done(function (data) {
				// On success, 'data' contains a list of products.
				//FusionCharts.ready(function () {
				var revenueChart = new FusionCharts({
					"type": "column3d",
					"renderAt": "myRealTimeApiData",
					"width": "500",
					"height": "300",
					"dataFormat": "json",
					"dataSource": {
						"chart": {
							"caption": "Real Time Household data",
							"subCaption": "Account(s) Summary",
							"xAxisName": "Name",
							"yAxisName": " Balances (In USD)",
							"theme": "fint"
						},
						"data": data
					}
				});

				revenueChart.render();

			});
		});

		


	</script>
	}